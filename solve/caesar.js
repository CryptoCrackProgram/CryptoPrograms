var cipher,numSols,uInt8Array,workerNumber,totalWorkers,isRunning,solutions=[];function decipherCaesar(){"function"===typeof importScripts&&(importScripts("../support/decipherLib.js"),importScripts("../support/cryptoPrograms.js"));initSolution();decrypt();!1===isRunning&&self.postMessage({cmd:"STOP",msg:""})}
function decrypt(){var a;isRunning=!0;cipher=cipher.toLowerCase();for(a=0;25>=a;a+=1){var c=transCsr(cipher,a);var b=getTetraScore(c.replace(/[^a-z]/g,""));solutions[numSols-1]<=b&&(solutions[numSols-1]=b,solutions.sort(function(d,e){return e-d}),self.postMessage({cmd:"reslt",key:"Shift:"+a.toString(),score:b,text:c}))}isRunning=!1}function transCsr(a,c){return a.replace(/([a-z])/ig,function(b){b=b.charCodeAt(0);return String.fromCharCode(97<=b&&122>=b?(b+c+26-97)%26+97:(b+c+26-65)%26+97)})}
self.addEventListener("message",function(a){a=a.data;cipher=a.cipher;uInt8Array=a.uInt8Array;totalWorkers=a.totalWorkers;workerNumber=a.workerNumber;numSols=a.numSols;decipherCaesar()},!1);